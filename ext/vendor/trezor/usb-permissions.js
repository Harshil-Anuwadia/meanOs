const _0x1794=["usb-permissions-close","trezor-usb-permissions","usb-permissions-init","runtime","length","index","beforeunload","postMessage","data","query","*://connect.trezor.io/*/popup.html","message","update","remove","tabs","addEventListener"];!function(e,b){!function(b){for(;--b;)e.push(e.shift())}(++b)}(_0x1794,487);const _0xbb7e=function(e,b){return _0x1794[e-=0]},switchToPopupTab=e=>{window.removeEventListener(_0xbb7e("0xf"),switchToPopupTab),e?chrome.tabs.query({url:_0xbb7e("0x3")},e=>{e[_0xbb7e("0xd")]<0||chrome[_0xbb7e("0x7")][_0xbb7e("0x5")](e[0].id,{active:!0})}):chrome[_0xbb7e("0x7")][_0xbb7e("0x2")]({currentWindow:!0,active:!0},e=>{e[_0xbb7e("0xd")]<0||(chrome[_0xbb7e("0x7")].query({index:e[0][_0xbb7e("0xe")]-1},e=>{e[_0xbb7e("0xd")]<0||chrome[_0xbb7e("0x7")][_0xbb7e("0x5")](e[0].id,{active:!0})}),chrome[_0xbb7e("0x7")][_0xbb7e("0x6")](e[0].id))})};window[_0xbb7e("0x8")](_0xbb7e("0x4"),e=>{if(e.data===_0xbb7e("0xb")){document.getElementById(_0xbb7e("0xa")).contentWindow[_0xbb7e("0x0")]({type:"usb-permissions-init",extension:chrome[_0xbb7e("0xc")].id},"*")}else e[_0xbb7e("0x1")]===_0xbb7e("0x9")&&switchToPopupTab()}),window.addEventListener("beforeunload",switchToPopupTab);